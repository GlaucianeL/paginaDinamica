<!DOCTYPE html>
<html>
<head>
  <title>Monitoramento ESP8266</title>
  <script>
    function atualizarDados() {
      fetch('http://<192.168.101.98>/dados')
        .then(response => response.json())
        .then(data => {
          document.getElementById('temperatura').textContent = data.temperatura + ' Â°C';
          document.getElementById('umidade').textContent = data.umidade + ' %';
          document.getElementById('led').textContent = data.led;
        })
        .catch(error => console.error('Erro ao obter dados:', error));
    }

    function ligarLED() {
      fetch('http://<192.168.101.98>/led/on')
        .then(response => response.text())
        .then(() => {
          document.getElementById('led').textContent = 'Ligado';
        });
    }

    function desligarLED() {
      fetch('http://<192.168.101.98>/led/off')
        .then(response => response.text())
        .then(() => {
          document.getElementById('led').textContent = 'Desligado';
        });
    }

    setInterval(atualizarDados, 3000);
  </script>
</head>
<body>
  <h1>Monitoramento ESP8266</h1>
  <p>Temperatura: <span id="temperatura">--</span></p>
  <p>Umidade: <span id="umidade">--</span></p>
  <p>LED: <span id="led">--</span></p>
  <button onclick="ligarLED()">Ligar LED</button>
  <button onclick="desligarLED()">Desligar LED</button>
</body>
</html>
