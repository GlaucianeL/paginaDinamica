<!DOCTYPE html>
<html>
<head>
  <title>Monitoramento ESP8266</title>
  <meta charset="UTF-8">
  <script>
    function atualizarDados() {
      fetch('http://192.168.0.101/dados') // <-- troque pelo IP real do ESP
        .then(response => response.json())
        .then(data => {
          document.getElementById('temperatura').textContent = data.temperatura + ' Â°C';
          document.getElementById('umidade').textContent = data.umidade + ' %';
          document.getElementById('led').textContent = data.led;
        })
        .catch(error => {
          console.error('Erro ao obter dados:', error);
          document.getElementById('temperatura').textContent = '--';
          document.getElementById('umidade').textContent = '--';
          document.getElementById('led').textContent = '--';
        });
    }

    function ligarLED() {
      fetch('http://192.168.0.101/led/on');
    }

    function desligarLED() {
      fetch('http://192.168.0.101/led/off');
    }

    setInterval(atualizarDados, 3000);
    window.onload = atualizarDados;
  </script>
</head>
<body>
  <h1>Monitoramento ESP8266</h1>
  <p>Temperatura: <span id="temperatura">--</span></p>
  <p>Umidade: <span id="umidade">--</span></p>
  <p>LED: <span id="led">--</span></p>
  <button onclick="ligarLED()">Ligar LED</button>
  <button onclick="desligarLED()">Desligar LED</button>
</body>
</html>
