<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Monitoramento ESP8266</title>
  <script>
    function atualizarDados() {
      fetch('http://192.168.101.98/dados')
        .then(response => response.json())
        .then(data => {
          document.getElementById('temperatura').textContent = data.temperatura + ' °C';
          document.getElementById('umidade').textContent = data.umidade + ' %';
          document.getElementById('led').textContent = data.led;
        })
        .catch(error => {
          console.error('Erro ao obter dados:', error);
        });
    }

    function ligarLED() {
      fetch('http://192.168.101.98/led/on');
    }

    function desligarLED() {
      fetch('http://192.168.101.98/led/off');
    }

    setInterval(atualizarDados, 3000);
    window.onload = atualizarDados;
  </script>
</head>
<body>
  <h1>Monitoramento ESP8266</h1>
  <p>🌡️ Temperatura: <span id="temperatura">--</span></p>
  <p>💧 Umidade: <span id="umidade">--</span></p>
  <p>💡 LED: <span id="led">--</span></p>
  <button onclick="ligarLED()">🔛 Ligar LED</button>
  <button onclick="desligarLED()">🔌 Desligar LED</button>
</body>
</html>
